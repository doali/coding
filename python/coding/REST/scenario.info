# ==============================================================================
# Exemple d'un scenario
# - utiliser flask
# ==============================================================================
# Dans tilix

# ------------------------------------------------------------------------------
# Dans les terminaux penser Ã  sourcer
source FLASK/bin/activate

# ------------------------------------------------------------------------------
# lancer le serveur dans un terminal
python3 server.py

# ------------------------------------------------------------------------------
# lancer tcpdump dans un autre
sudo tcpdump -vvv -XX -i lo 'tcp port 5000'

# ------------------------------------------------------------------------------
# lancer netstat dans un autre
watch netstat -l -t

# lancer l'interpreteur python3
$ python3
>>> import request
# ------------------------------------------------------------------------------
>>> res = requests.get("http://127.0.0.1:5000")
>>> res.json()
{'message': 'Hello, World!'}
# ------------------------------------------------------------------------------
>>> res = requests.get("http://127.0.0.1:5000/quarks")
>>> res.json()
{'quarks': [{'charge': '+2/3', 'name': 'up'}, {'charge': '-1/3', 'name': 'down'}, {'charge': '+2/3', 'name': 'charm'}, {'charge': '-1/3', 'name': 'strange'}, {'charge': '-1/3', 'name': 'yoyo'}, {'charge': '-1/3', 'name': 'yoyo'}]}
# ------------------------------------------------------------------------------
>>> res = requests.post("http://127.0.0.1:5000/quarks", json={'name': 'yoyo', 'charge': '-1/3'})
>>> res.json()
{'quarks': [{'charge': '+2/3', 'name': 'up'}, {'charge': '-1/3', 'name': 'down'}, {'charge': '+2/3', 'name': 'charm'}, {'charge': '-1/3', 'name': 'strange'}, {'charge': '-1/3', 'name': 'yoyo'}, {'charge': '-1/3', 'name': 'yoyo'}, {'charge': '-1/3', 'name': 'yoyo'}]}
>>> 
# ------------------------------------------------------------------------------
